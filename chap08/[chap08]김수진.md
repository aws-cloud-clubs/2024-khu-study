# 8장 URL 단축기 설계

URL 단축기 서비스 : 긴 url를 짧게 단축해주고, 변환된 url에 접속하면 원래의 url로 리디렉션 된다.

예시 사이트 : https://tinyurl.com/

|                                         URL 입력                                          |                                         짧게 변환                                         |                         변환된 url로 접속하면 원래 url로 리디렉션                         |
| :---------------------------------------------------------------------------------------: | :---------------------------------------------------------------------------------------: | :---------------------------------------------------------------------------------------: |
| ![image](https://github.com/user-attachments/assets/ffba50b2-1501-403d-8943-ec790f340209) | ![image](https://github.com/user-attachments/assets/d599bf98-b9f2-4b1f-b047-275860f987e0) | ![image](https://github.com/user-attachments/assets/e8a9aacf-6654-42d3-bc33-37a6078051a5) |

## 1단계 : 문제 이해 및 설계 범위 확정

- 단축기 동작 : 긴 url입력되면 단축 url 반환, 단축 url에 접속하면 원래 url로 갈 수 있어야 한다.
- 트래픽 규모 : 매일 1억 개의 단축 URL 생성
- 단축 URL의 길이는 짧으면 짧을수록 좋다.
- 단축 url에는 숫자 0~9, 영문자(a~z, A~Z)만 사용 가능
- 단축된 URL를 삭제, 갱신할 수 없다.

### 개략적 추정

- 쓰기 연산 : 매일 1억 개의 단축 URL 생성
- 초당 쓰기 연산 : 1억/24/3600 = 1160(초당 1160개의 url 생성)
- 읽기 연산 : 읽기 연산과 쓰기 연산 비율이 10:1이라고 하면, 읽기 연산은 초당 11600회 발생
- 10년 간 운영한다고 가정하면, 1억 x 365 x 10 = 3650억 개의 레코드를 보관해야 함
- 따라서, 10년 동안 필요한 저장 용량은 3650억 x 100바이트 = 36.5TB

## 2단계 : 개략적 설계안 제시 및 동의 구하기

### API 엔드포인트

<img src="https://github.com/user-attachments/assets/d731c938-d2d6-4645-a285-1eb232d08951" width=50%>
